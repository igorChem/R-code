{
    "contents" : "##Análises de emissões \n\n# Carregar packages\nlibrary(raster)\nlibrary(sp)\nlibrary(rgdal)\nlibrary(gstat)\nlibrary(maptools)\nlibrary(fields)\nlibrary(pls)\n\n# 1, testes \n\n\n#carregar a primeira matriz de testes \n# ler \nMA <-read.delim(\"MA\")\nattach(MA)\n\nma1 <-data.frame(MA[,2:4]) # matriz dos locais com a resposta\nma2 <-data.frame(Longitude,Latitude)# matriz só dos locais \nma3 <-rasterFromXYZ(ma1)\nma4 <-raster(ma3)\nwq <-interpolate(ma4,mg,xyNames=c(\"longitude\",\"Latitude\"),xyOnly=T)\nmg\n\nma11 <-data.frame(ma2,MA.t.ano)\nt1 <-readOGR(\"bacia_delim.shp\",layer = \"bacia_delim\")\nspplot(t1)\n\nexob1 <-extent(t1)\nras1 <-raster(exob1,nrow=1000,ncol=1000,crs=\"+proj=longlat +datum=WGS84\" )\nras1\nhead(ras1)\nplot(ras1)\n\nmg <- gstat(id = \"MA.t.ano\", formula = Ma.t.ano~1, locations = ~Longitude+Latitude, data=ma11,\n            nmax=13, set=list(idp = .5))\n\nmg\ntras1 <-predict()\n\nm4 <-rasterize(t1,ras1)\nplot(m4)\nma3\nplot(ma3)\nma5 <-aggregate(ma3,30)\nplot(ma5)\nxyma5 <-xy <- data.frame(xyFromCell(ma5, 1:ncell(ma5)))\nma5res <-getValues(ma5)\nma5mat<-data.frame(xyma5,ma5res)\nma5mod <-gstat(id = \"MA.t.ano\", formula = MA.t.ano~1, locations = ma2, data=ma1,\n               nmax=13, set=list(idp = .5))\nras2 <-raster(m4)\nprojection(ras2) <- projection(r)\nz <- predict(ma5mod,ras2)\nz <- mask(z, r)\nplot(z)\n\ntps <- Tps(tr1, MA.t.ano)\nt21 <-interpolate(rr,tps)\nplot(t21)\nt22 <-mask(t21,t0001)\nplot(t22)\n\nspplot(t22)\ntes <-rasterFromXYZ(tr)\nplot(tr)\nplot(tes)\nspplot(tes)\nsummary(tes)\nra <- aggregate(tes,100)\nplot(ra)\nsummary(ra)\nra\ntes\nrr <-raster(t0001)\nrr <-interpolate(rr,tps)\nplot(rr)\nrft <-mask(rr,t0001)\nplot(rft)\nspplot(rft,main=\"Bacia Taquari MA t/ano\")\n\na <-Municipio\nlibrary(deldir)\npoints(MA[,2:3],pch=2)\n\nplot(deldir(tr1))\n\nt23 <-deldir(tr1,plot=T)\nplot(t23)\nsurface(t23)\n\n# DBO concentrações \n\nattach(dboConc)\nob1 <-data.frame(Longitude,Latitude)\nfit1 <- Tps(ob1,Concentra....o.g.d)\ndbo1 <-interpolate(t0001,fit1)\ndbo2 <-mask(dbo1,t0001)\nplot(Longitude,Latitude)\nplot(dbo2)\npoints(dboConc[1:2])\ncontour(dbo2)\nlevelplot(dbo2)\n\nts1 <-rasterFromXYZ(dboConc)\nts2 <-aggregate(ts1,100)\nex <-extent(t0001)\nts3 <-raster(t0001)\nplot(ts2)\nhead(ts2)\nxy <-xyFromCell(ts2,1:ncell(ts2))\nt <-getValues(ts2)\nfit2 <-Tps(xy,t,m=2)\nrst1 <-interpolate(ts3,fit2)\nrst2 <-mask(rst1,t0001)\nplot(rst2)\nspplot(rst2)\ndeldir(dboConc,plot=T)\nfit3 <-Krig(ob1,Concentra....o.g.d,cov.function = Exponential(d))\nsurface(fit3)\nd <-dist(ob1)\nrst3 <-interpolate()\n\nlibrary(\"gstat\")\nz <-dboConc[,3]\n\ntes.grd <-rasterToPoints(ts1,spatial = TRUE)\ntes.grd\ngridded(tes.grd)= TRUE\n\nmod <-idw(formula=z~1,locations =ob1,newdata=tes.grd)\nmod <-idw(formula=ma5res~1,locations =xyma5,newdata=tes.grd,na.rm=T)\nxyma5 <-SpatialPointsDataFrame(xyma5,data = xyma5)\nplot(mod)\nclass(mod)\nras3 <-raster(mod)\nplot(ras3)\ncoordinates(ob1) = ~Longitude+Latitude\nclass(ob1)\n\nob1 <-SpatialPointsDataFrame(ob1,data = ob1)\nplot(ob1)\nma1\n\n\nmg <- gstat(id = \"MA.t.ano\", formula = Ma.t.ano~1, locations = ~Longitude+Latitude, data=ma11,\nnmax=13, set=list(idp = .5))\n\n\n raster(ncol=1000,nrow=1000,\n\n\n",
    "created" : 1455737133945.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2056423155",
    "id" : "BC29056E",
    "lastKnownWriteTime" : 1456010606,
    "path" : "~/r/GIs/GISanalysis.R",
    "project_path" : "GISanalysis.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "type" : "r_source"
}